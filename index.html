<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Organization Onboarding Bot - Grant Generator Setup</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .step-complete { background: linear-gradient(135deg, #10b981, #059669); }
        .step-active { background: linear-gradient(135deg, #3b82f6, #1d4ed8); }
        .step-pending { background: linear-gradient(135deg, #6b7280, #4b5563); }
        .loading-spinner {
            border: 3px solid #f3f4f6;
            border-top: 3px solid #3b82f6;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .upload-zone {
            border: 2px dashed #d1d5db;
            transition: all 0.3s ease;
        }
        .upload-zone:hover {
            border-color: #3b82f6;
            background-color: #f8fafc;
        }
        .upload-zone.dragover {
            border-color: #3b82f6;
            background-color: #dbeafe;
        }
        .file-preview {
            background: linear-gradient(135deg, #f3f4f6, #e5e7eb);
        }
        .extracted-content {
            background: linear-gradient(135deg, #fef3c7, #fde047);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        const OrganizationOnboardingBot = () => {
            const [currentStep, setCurrentStep] = useState(1);
            const [organizationData, setOrganizationData] = useState({
                basicInfo: {},
                extractedData: {},
                programs: [],
                financials: {},
                partnerships: [],
                targetFunders: []
            });
            const [websiteUrl, setWebsiteUrl] = useState('');
            const [isExtracting, setIsExtracting] = useState(false);
            const [extractionResults, setExtractionResults] = useState(null);
            const [draggedOver, setDraggedOver] = useState(null);
            const fileInputRef = useRef(null);

            const steps = [
                { id: 1, title: "Website Analysis", desc: "Extract basic organization info" },
                { id: 2, title: "Organization Details", desc: "Review and enhance extracted data" },
                { id: 3, title: "Programs & Impact", desc: "Detail your programs and outcomes" },
                { id: 4, title: "Financial Info", desc: "Budget and capacity information" },
                { id: 5, title: "Target Funders", desc: "Identify your priority funders" },
                { id: 6, title: "System Generation", desc: "Create your custom grant generator" }
            ];

            const extractWebsiteData = async (url) => {
                setIsExtracting(true);
                await new Promise(resolve => setTimeout(resolve, 3000));
                
                const mockData = {
                    organizationName: "ArtWorks Now",
                    mission: "To provide accessible arts education and creative opportunities that inspire personal growth, build community connections, and foster cultural understanding through innovative programming.",
                    founded: 2010,
                    location: "Washington, DC",
                    taxStatus: "501(c)(3)",
                    website: url
                };

                setExtractionResults(mockData);
                setOrganizationData(prev => ({
                    ...prev,
                    basicInfo: mockData,
                    extractedData: mockData
                }));
                setIsExtracting(false);
                setCurrentStep(2);
            };

            const updateOrganizationData = (section, data) => {
                setOrganizationData(prev => ({
                    ...prev,
                    [section]: { ...prev[section], ...data }
                }));
            };

            const addProgram = () => {
                const newProgram = {
                    id: Date.now(),
                    name: '',
                    description: '',
                    targetPopulation: '',
                    capacity: '',
                    outcomes: '',
                    uploadedFiles: [],
                    extractedContent: null,
                    dataSource: 'manual'
                };
                setOrganizationData(prev => ({
                    ...prev,
                    programs: [...prev.programs, newProgram]
                }));
            };

            const updateProgram = (id, field, value) => {
                setOrganizationData(prev => ({
                    ...prev,
                    programs: prev.programs.map(program => 
                        program.id === id ? { ...program, [field]: value } : program
                    )
                }));
            };
            const handleFileUpload = async (programId, files) => {
                const fileArray = Array.from(files);
                const allowedTypes = [
                    'application/pdf',
                    'application/msword',
                    'application/vnd.openxmlformats-officedocument.wordprocessingml.document',
                    'text/plain',
                    'text/csv'
                ];

                const validFiles = fileArray.filter(file => 
                    allowedTypes.includes(file.type) && file.size <= 10 * 1024 * 1024
                );

                if (validFiles.length === 0) {
                    alert('Please upload valid documents (PDF, Word, Text, CSV) under 10MB');
                    return;
                }

                setOrganizationData(prev => ({
                    ...prev,
                    programs: prev.programs.map(program => {
                        if (program.id === programId) {
                            return {
                                ...program,
                                uploadedFiles: [...(program.uploadedFiles || []), ...validFiles],
                                extractedContent: null
                            };
                        }
                        return program;
                    })
                }));

                setTimeout(() => {
                    extractContentFromFiles(programId, validFiles);
                }, 2000);
            };

            const extractContentFromFiles = (programId, files) => {
                const mockExtractedContent = {
                    programName: "Youth Leadership Development Program",
                    description: "A comprehensive 12-month program designed to develop leadership skills in teenagers aged 14-18 through mentorship, workshops, and community service projects.",
                    targetPopulation: "High school students (ages 14-18) from underserved communities",
                    capacity: "50 students per annual cohort, with rolling admission throughout the year",
                    outcomes: "95% program completion rate, 85% of participants report increased confidence in leadership abilities"
                };

                setOrganizationData(prev => ({
                    ...prev,
                    programs: prev.programs.map(program => {
                        if (program.id === programId) {
                            return {
                                ...program,
                                extractedContent: mockExtractedContent,
                                dataSource: 'extracted'
                            };
                        }
                        return program;
                    })
                }));
            };

            const applyExtractedContent = (programId) => {
                const program = organizationData.programs.find(p => p.id === programId);
                if (program && program.extractedContent) {
                    const content = program.extractedContent;
                    updateProgram(programId, 'name', content.programName);
                    updateProgram(programId, 'description', content.description);
                    updateProgram(programId, 'targetPopulation', content.targetPopulation);
                    updateProgram(programId, 'capacity', content.capacity);
                    updateProgram(programId, 'outcomes', content.outcomes);
                    updateProgram(programId, 'dataSource', 'applied');
                }
            };

            const handleDragOver = (e, programId) => {
                e.preventDefault();
                setDraggedOver(programId);
            };

            const handleDragLeave = (e) => {
                e.preventDefault();
                setDraggedOver(null);
            };

            const handleDrop = (e, programId) => {
                e.preventDefault();
                setDraggedOver(null);
                const files = e.dataTransfer.files;
                handleFileUpload(programId, files);
            };

            const removeFile = (programId, fileIndex) => {
                setOrganizationData(prev => ({
                    ...prev,
                    programs: prev.programs.map(program => {
                        if (program.id === programId) {
                            const newFiles = [...(program.uploadedFiles || [])];
                            newFiles.splice(fileIndex, 1);
                            return { ...program, uploadedFiles: newFiles };
                        }
                        return program;
                    })
                }));
            };

            const formatFileSize = (bytes) => {
                if (bytes === 0) return '0 Bytes';
                const k = 1024;
                const sizes = ['Bytes', 'KB', 'MB', 'GB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            };

            const addFunder = () => {
                const newFunder = {
                    id: Date.now(),
                    name: '',
                    type: '',
                    focusAreas: '',
                    typicalRange: '',
                    deadline: '',
                    priority: 'medium'
                };
                setOrganizationData(prev => ({
                    ...prev,
                    targetFunders: [...prev.targetFunders, newFunder]
                }));
            };

            const updateFunder = (id, field, value) => {
                setOrganizationData(prev => ({
                    ...prev,
                    targetFunders: prev.targetFunders.map(funder => 
                        funder.id === id ? { ...funder, [field]: value } : funder
                    )
                }));
            };

            const generateSystem = () => {
                alert(`🎉 System Generated Successfully!

Your custom grant generator will be deployed to:
${organizationData.basicInfo.organizationName?.toLowerCase().replace(/\s+/g, '-')}-grants.netlify.app

Features included:
- ${organizationData.targetFunders.length} funder profiles with confidence scoring
- ${organizationData.programs.length} program templates
- Automated content generation
- Financial projections
- Impact metrics tracking

Setup complete! You can now start generating grant applications.`);
            };
const renderStepContent = () => {
                switch(currentStep) {
                    case 1:
                        return (
                            <div className="space-y-6">
                                <div>
                                    <h3 className="text-2xl font-semibold mb-4">Website Analysis</h3>
                                    <p className="text-gray-600 mb-6">
                                        Enter the organization's website URL. Our bot will automatically extract:
                                        mission statement, programs, staff info, recent news, and more.
                                    </p>
                                </div>

                                <div className="bg-blue-50 border border-blue-200 rounded-lg p-4">
                                    <h4 className="font-semibold text-blue-800 mb-2">What We'll Extract:</h4>
                                    <ul className="text-blue-700 text-sm space-y-1">
                                        <li>• Organization mission and history</li>
                                        <li>• Program descriptions and target populations</li>
                                        <li>• Staff and leadership information</li>
                                        <li>• Recent news and achievements</li>
                                        <li>• Contact information and location</li>
                                        <li>• Social media presence and engagement</li>
                                    </ul>
                                </div>

                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-2">
                                        Organization Website URL
                                    </label>
                                    <input 
                                        type="url" 
                                        value={websiteUrl}
                                        onChange={(e) => setWebsiteUrl(e.target.value)}
                                        placeholder="https://artworksnow.org"
                                        className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    />
                                </div>

                                {isExtracting ? (
                                    <div className="text-center py-8">
                                        <div className="loading-spinner mx-auto mb-4"></div>
                                        <p className="text-gray-600">Analyzing website and extracting data...</p>
                                        <p className="text-sm text-gray-500 mt-2">This may take 30-60 seconds</p>
                                    </div>
                                ) : (
                                    <button 
                                        onClick={() => extractWebsiteData(websiteUrl)}
                                        disabled={!websiteUrl}
                                        className="w-full bg-blue-600 text-white py-3 px-6 rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed font-medium"
                                    >
                                        Start Automatic Extraction
                                    </button>
                                )}

                                {extractionResults && (
                                    <div className="mt-6 bg-green-50 border border-green-200 rounded-lg p-4">
                                        <h4 className="font-semibold text-green-800 mb-2">✅ Extraction Complete!</h4>
                                        <p className="text-green-700 text-sm">
                                            Successfully extracted data for {extractionResults.organizationName}. 
                                            Click "Next Step" to review and enhance the information.
                                        </p>
                                    </div>
                                )}
                            </div>
                        );

                    case 2:
                        return (
                            <div className="space-y-6">
                                <h3 className="text-2xl font-semibold mb-4">Review Extracted Data</h3>
                                
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">
                                            Organization Name
                                        </label>
                                        <input 
                                            type="text" 
                                            value={organizationData.basicInfo.organizationName || ''}
                                            onChange={(e) => updateOrganizationData('basicInfo', { organizationName: e.target.value })}
                                            className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">
                                            Founded Year
                                        </label>
                                        <input 
                                            type="number" 
                                            value={organizationData.basicInfo.founded || ''}
                                            onChange={(e) => updateOrganizationData('basicInfo', { founded: parseInt(e.target.value) })}
                                            className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">
                                            Location
                                        </label>
                                        <input 
                                            type="text" 
                                            value={organizationData.basicInfo.location || ''}
                                            onChange={(e) => updateOrganizationData('basicInfo', { location: e.target.value })}
                                            className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">
                                            Tax Status
                                        </label>
                                        <select 
                                            value={organizationData.basicInfo.taxStatus || ''}
                                            onChange={(e) => updateOrganizationData('basicInfo', { taxStatus: e.target.value })}
                                            className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        >
                                            <option value="">Select status...</option>
                                            <option value="501(c)(3)">501(c)(3) - Charitable</option>
                                            <option value="501(c)(4)">501(c)(4) - Social Welfare</option>
                                            <option value="Government">Government Entity</option>
                                            <option value="Other">Other</option>
                                        </select>
                                    </div>
                                </div>

                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-2">
                                        Mission Statement
                                    </label>
                                    <textarea 
                                        value={organizationData.basicInfo.mission || ''}
                                        onChange={(e) => updateOrganizationData('basicInfo', { mission: e.target.value })}
                                        rows={4}
                                        className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        placeholder="Enter your organization's mission statement..."
                                    />
                                </div>
                            </div>
                        );

                    case 3:
                        return (
                            <div className="space-y-6">
                                <div className="flex justify-between items-center">
                                    <h3 className="text-2xl font-semibold">Programs & Impact</h3>
                                    <button 
                                        onClick={addProgram}
                                        className="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700"
                                    >
                                        Add Program
                                    </button>
                                </div>

                                <div className="bg-blue-50 border border-blue-200 rounded-lg p-4">
                                    <h4 className="font-semibold text-blue-800 mb-2">💡 Two Ways to Add Programs:</h4>
                                    <div className="text-blue-700 text-sm space-y-1">
                                        <div><strong>📄 Upload Documents:</strong> Drop program materials and let AI extract the details automatically</div>
                                        <div><strong>✏️ Manual Entry:</strong> Fill out the forms manually with your program information</div>
                                    </div>
                                </div>

                                {organizationData.programs.map((program, index) => (
                                    <div key={program.id} className="bg-white rounded-lg border border-gray-200 p-6 space-y-6">
                                        <div className="flex justify-between items-center">
                                            <h4 className="font-semibold text-lg">Program {index + 1}</h4>
                                            {program.dataSource === 'extracted' && (
                                                <span className="bg-yellow-100 text-yellow-800 text-xs font-medium px-2.5 py-0.5 rounded">
                                                    Content Extracted
                                                </span>
                                            )}
                                        </div>

                                        <div className="space-y-4">
                                            <h5 className="font-medium text-gray-900">📄 Upload Program Documents</h5>
                                            <div 
                                                className={`upload-zone rounded-lg p-6 text-center cursor-pointer ${
                                                    draggedOver === program.id ? 'dragover' : ''
                                                }`}
                                                onDragOver={(e) => handleDragOver(e, program.id)}
                                                onDragLeave={handleDragLeave}
                                                onDrop={(e) => handleDrop(e, program.id)}
                                                onClick={() => {
                                                    fileInputRef.current.click();
                                                    fileInputRef.current.onchange = (e) => handleFileUpload(program.id, e.target.files);
                                                }}
                                            >
                                                <div className="space-y-2">
                                                    <div className="text-gray-400 text-4xl">📁</div>
                                                    <div className="text-gray-600">
                                                        <p className="font-medium">Drop files here or click to upload</p>
                                                        <p className="text-sm">PDF, Word, Text documents up to 10MB</p>
                                                    </div>
                                                </div>
                                            </div>

                                            <input 
                                                ref={fileInputRef}
                                                type="file" 
                                                multiple 
                                                accept=".pdf,.doc,.docx,.txt,.csv"
                                                className="hidden"
                                            />

                                            {program.uploadedFiles && program.uploadedFiles.length > 0 && (
                                                <div className="space-y-2">
                                                    <h6 className="font-medium text-gray-700">Uploaded Files:</h6>
                                                    {program.uploadedFiles.map((file, fileIndex) => (
                                                        <div key={fileIndex} className="file-preview rounded-lg p-3 flex items-center justify-between">
                                                            <div className="flex items-center space-x-3">
                                                                <div className="text-blue-600 text-lg">📄</div>
                                                                <div>
                                                                    <div className="font-medium text-gray-900">{file.name}</div>
                                                                    <div className="text-sm text-gray-500">{formatFileSize(file.size)}</div>
                                                                </div>
                                                            </div>
                                                            <button 
                                                                onClick={() => removeFile(program.id, fileIndex)}
                                                                className="text-red-600 hover:text-red-800 text-sm"
                                                            >
                                                                Remove
                                                            </button>
                                                        </div>
                                                    ))}
                                                </div>
                                            )}

                                            {program.extractedContent && (
                                                <div className="extracted-content rounded-lg p-4 space-y-3">
                                                    <div className="flex justify-between items-center">
                                                        <h6 className="font-medium text-yellow-800">🤖 AI Extracted Content</h6>
                                                        <button 
                                                            onClick={() => applyExtractedContent(program.id)}
                                                            className="bg-yellow-600 text-white px-3 py-1 rounded text-sm hover:bg-yellow-700"
                                                        >
                                                            Apply to Form
                                                        </button>
                                                    </div>
                                                    <div className="text-sm text-yellow-700 space-y-2">
                                                        <div><strong>Program:</strong> {program.extractedContent.programName}</div>
                                                        <div><strong>Target Population:</strong> {program.extractedContent.targetPopulation}</div>
                                                        <div><strong>Capacity:</strong> {program.extractedContent.capacity}</div>
                                                        <div><strong>Key Outcomes:</strong> {program.extractedContent.outcomes}</div>
                                                    </div>
                                                </div>
                                            )}
                                        </div>

                                        <div className="space-y-4">
                                            <h5 className="font-medium text-gray-900">✏️ Program Details</h5>
                                            
                                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-2">
                                                        Program Name
                                                    </label>
                                                    <input 
                                                        type="text" 
                                                        value={program.name}
                                                        onChange={(e) => updateProgram(program.id, 'name', e.target.value)}
                                                        placeholder="Youth Arts Academy"
                                                        className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                    />
                                                </div>

                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-2">
                                                        Target Population
                                                    </label>
                                                    <input 
                                                        type="text" 
                                                        value={program.targetPopulation}
                                                        onChange={(e) => updateProgram(program.id, 'targetPopulation', e.target.value)}
                                                        placeholder="Ages 13-18, underserved communities"
                                                        className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                    />
                                                </div>

                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-2">
                                                        Annual Capacity
                                                    </label>
                                                    <input 
                                                        type="text" 
                                                        value={program.capacity}
                                                        onChange={(e) => updateProgram(program.id, 'capacity', e.target.value)}
                                                        placeholder="150 students annually"
                                                        className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                    />
                                                </div>

                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-2">
                                                        Key Outcomes
                                                    </label>
                                                    <input 
                                                        type="text" 
                                                        value={program.outcomes}
                                                        onChange={(e) => updateProgram(program.id, 'outcomes', e.target.value)}
                                                        placeholder="85% skill improvement, 90% program completion"
                                                        className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                    />
                                                </div>
                                            </div>

                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    Program Description
                                                </label>
                                                <textarea 
                                                    value={program.description}
                                                    onChange={(e) => updateProgram(program.id, 'description', e.target.value)}
                                                    rows={3}
                                                    placeholder="Detailed description of program activities, methodology, and impact..."
                                                    className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                />
                                            </div>
                                        </div>
                                    </div>
                                ))}

                                {organizationData.programs.length === 0 && (
                                    <div className="text-center py-8 bg-gray-50 rounded-lg">
                                        <p className="text-gray-600 mb-4">No programs added yet.</p>
                                        <button 
                                            onClick={addProgram}
                                            className="bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700"
                                        >
                                            Add Your First Program
                                        </button>
                                    </div>
                                )}
                            </div>
                        );

                    case 4:
                        return (
                            <div className="space-y-6">
                                <h3 className="text-2xl font-semibold mb-4">Financial Information</h3>
                                
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">
                                            Annual Operating Budget
                                        </label>
                                        <input 
                                            type="number" 
                                            value={organizationData.financials.annualBudget || ''}
                                            onChange={(e) => updateOrganizationData('financials', { annualBudget: e.target.value })}
                                            placeholder="500000"
                                            className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">
                                            Full-time Staff Count
                                        </label>
                                        <input 
                                            type="number" 
                                            value={organizationData.financials.staffCount || ''}
                                            onChange={(e) => updateOrganizationData('financials', { staffCount: e.target.value })}
                                            placeholder="8"
                                            className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        />
                                    </div>
                                </div>
                            </div>
                        );

                    case 5:
                        return (
                            <div className="space-y-6">
                                <div className="flex justify-between items-center">
                                    <h3 className="text-2xl font-semibold">Target Funders</h3>
                                    <button 
                                        onClick={addFunder}
                                        className="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700"
                                    >
                                        Add Funder
                                    </button>
                                </div>

                                {organizationData.targetFunders.map((funder, index) => (
                                    <div key={funder.id} className="bg-gray-50 rounded-lg p-6 space-y-4">
                                        <h4 className="font-semibold text-lg">Funder {index + 1}</h4>
                                        
                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    Funder Name
                                                </label>
                                                <input 
                                                    type="text" 
                                                    value={funder.name}
                                                    onChange={(e) => updateFunder(funder.id, 'name', e.target.value)}
                                                    placeholder="XYZ Foundation"
                                                    className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                />
                                            </div>

                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    Funder Type
                                                </label>
                                                <select 
                                                    value={funder.type}
                                                    onChange={(e) => updateFunder(funder.id, 'type', e.target.value)}
                                                    className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                >
                                                    <option value="">Select type...</option>
                                                    <option value="Private Foundation">Private Foundation</option>
                                                    <option value="Corporate Foundation">Corporate Foundation</option>
                                                    <option value="Government Grant">Government Grant</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                ))}

                                {organizationData.targetFunders.length === 0 && (
                                    <div className="text-center py-8 bg-gray-50 rounded-lg">
                                        <p className="text-gray-600 mb-4">No funders added yet.</p>
                                        <button 
                                            onClick={addFunder}
                                            className="bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700"
                                        >
                                            Add Your First Target Funder
                                        </button>
                                    </div>
                                )}
                            </div>
                        );

                    case 6:
                        return (
                            <div className="space-y-6">
                                <h3 className="text-2xl font-semibold mb-4">System Generation</h3>
                                
                                <div className="bg-green-50 border border-green-200 rounded-lg p-6">
                                    <h4 className="font-semibold text-green-800 mb-4">🎉 Ready to Generate Your Custom System!</h4>
                                    
                                    <button 
                                        onClick={generateSystem}
                                        className="w-full bg-green-600 text-white py-4 px-6 rounded-md hover:bg-green-700 font-medium text-lg"
                                    >
                                        🚀 Generate My Custom Grant System
                                    </button>
                                </div>
                            </div>
                        );

                    default:
                        return null;
                }
            };

            return (
                <div className="min-h-screen bg-gray-50 py-8">
                    <div className="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="text-center mb-8">
                            <h1 className="text-4xl font-bold text-gray-900 mb-2">Organization Onboarding Bot</h1>
                            <p className="text-xl text-gray-600">Automated setup for your custom grant generator</p>
                            <p className="text-sm text-gray-500 mt-2">Complete in 10-15 minutes • Save weeks of manual setup</p>
                        </div>

                        <div className="mb-8">
                            <div className="flex items-center justify-between">
                                {steps.map((step, index) => (
                                    <div key={step.id} className="flex items-center">
                                        <div className={`
                                            w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold text-sm
                                            ${currentStep > step.id ? 'step-complete' : currentStep === step.id ? 'step-active' : 'step-pending'}
                                        `}>
                                            {currentStep > step.id ? '✓' : step.id}
                                        </div>
                                        <div className="ml-3 hidden md:block">
                                            <div className="text-sm font-medium text-gray-900">{step.title}</div>
                                            <div className="text-xs text-gray-500">{step.desc}</div>
                                        </div>
                                        {index < steps.length - 1 && (
                                            <div className="hidden md:block w-24 h-1 bg-gray-200 mx-4">
                                                <div 
                                                    className={`h-full transition-all duration-300 ${
                                                        currentStep > step.id ? 'bg-green-500 w-full' : 'bg-gray-200 w-0'
                                                    }`}
                                                />
                                            </div>
                                        )}
                                    </div>
                                ))}
                            </div>
                        </div>

                        <div className="bg-white rounded-lg shadow-lg p-8 mb-8">
                            {renderStepContent()}
                        </div>

                        <div className="flex justify-between">
                            <button 
                                onClick={() => setCurrentStep(Math.max(1, currentStep - 1))}
                                disabled={currentStep === 1}
                                className="bg-gray-300 text-gray-700 py-2 px-6 rounded-md hover:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed"
                            >
                                Previous Step
                            </button>
                            
                            {currentStep < 6 && (
                                <button 
                                    onClick={() => setCurrentStep(Math.min(6, currentStep + 1))}
                                    disabled={currentStep === 1 && !extractionResults}
                                    className="bg-blue-600 text-white py-2 px-6 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"
                                >
                                    Next Step
                                </button>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<OrganizationOnboardingBot />, document.getElementById('root'));
    </script>
</body>
</html>
