<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Organization Onboarding Bot - Grant Generator Setup</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .step-complete { background: linear-gradient(135deg, #10b981, #059669); }
        .step-active { background: linear-gradient(135deg, #3b82f6, #1d4ed8); }
        .step-pending { background: linear-gradient(135deg, #6b7280, #4b5563); }
        .loading-spinner {
            border: 3px solid #f3f4f6;
            border-top: 3px solid #3b82f6;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const OrganizationOnboardingBot = () => {
            const [currentStep, setCurrentStep] = useState(1);
            const [organizationData, setOrganizationData] = useState({
                basicInfo: {},
                extractedData: {},
                programs: [],
                financials: {},
                partnerships: [],
                targetFunders: []
            });
            const [websiteUrl, setWebsiteUrl] = useState('');
            const [isExtracting, setIsExtracting] = useState(false);
            const [extractionResults, setExtractionResults] = useState(null);

            const steps = [
                { id: 1, title: "Website Analysis", desc: "Extract basic organization info" },
                { id: 2, title: "Organization Details", desc: "Review and enhance extracted data" },
                { id: 3, title: "Programs & Impact", desc: "Detail your programs and outcomes" },
                { id: 4, title: "Financial Info", desc: "Budget and capacity information" },
                { id: 5, title: "Target Funders", desc: "Identify your priority funders" },
                { id: 6, title: "System Generation", desc: "Create your custom grant generator" }
            ];

            const extractWebsiteData = async (url) => {
                setIsExtracting(true);
                await new Promise(resolve => setTimeout(resolve, 3000));
                
                const mockData = {
                    organizationName: "ArtWorks Now",
                    mission: "To provide accessible arts education and creative opportunities that inspire personal growth, build community connections, and foster cultural understanding through innovative programming.",
                    founded: 2010,
                    location: "Washington, DC",
                    taxStatus: "501(c)(3)",
                    website: url,
                    extractedPrograms: [
                        {
                            name: "Youth Arts Academy",
                            description: "After-school and summer programs for teens",
                            ages: "13-18",
                            capacity: "150 students annually"
                        },
                        {
                            name: "Community Workshops", 
                            description: "Adult arts education and skill-building",
                            ages: "18+",
                            capacity: "300 participants annually"
                        }
                    ],
                    keyStaff: [
                        { name: "Sarah Johnson", title: "Executive Director" },
                        { name: "Michael Chen", title: "Program Director" }
                    ],
                    recentNews: [
                        "Received $50,000 grant from Local Arts Foundation (2024)",
                        "Opened new community studio space (2023)"
                    ]
                };

                setExtractionResults(mockData);
                setOrganizationData(prev => ({
                    ...prev,
                    basicInfo: mockData,
                    extractedData: mockData
                }));
                setIsExtracting(false);
                setCurrentStep(2);
            };

            const updateOrganizationData = (section, data) => {
                setOrganizationData(prev => ({
                    ...prev,
                    [section]: { ...prev[section], ...data }
                }));
            };

            const addProgram = () => {
                const newProgram = {
                    id: Date.now(),
                    name: '',
                    description: '',
                    targetPopulation: '',
                    capacity: '',
                    outcomes: ''
                };
                setOrganizationData(prev => ({
                    ...prev,
                    programs: [...prev.programs, newProgram]
                }));
            };

            const updateProgram = (id, field, value) => {
                setOrganizationData(prev => ({
                    ...prev,
                    programs: prev.programs.map(program => 
                        program.id === id ? { ...program, [field]: value } : program
                    )
                }));
            };

            const addFunder = () => {
                const newFunder = {
                    id: Date.now(),
                    name: '',
                    type: '',
                    focusAreas: '',
                    typicalRange: '',
                    deadline: '',
                    priority: 'medium'
                };
                setOrganizationData(prev => ({
                    ...prev,
                    targetFunders: [...prev.targetFunders, newFunder]
                }));
            };

            const updateFunder = (id, field, value) => {
                setOrganizationData(prev => ({
                    ...prev,
                    targetFunders: prev.targetFunders.map(funder => 
                        funder.id === id ? { ...funder, [field]: value } : funder
                    )
                }));
            };

            const generateSystem = () => {
                alert(`ðŸŽ‰ System Generated Successfully!

Your custom grant generator will be deployed to:
${organizationData.basicInfo.organizationName?.toLowerCase().replace(/\s+/g, '-')}-grants.netlify.app

Features included:
- ${organizationData.targetFunders.length} funder profiles with confidence scoring
- ${organizationData.programs.length} program templates
- Automated content generation
- Financial projections
- Impact metrics tracking

Setup complete! You can now start generating grant applications.`);
            };

            const renderStepContent = () => {
                switch(currentStep) {
                    case 1:
                        return (
                            <div className="space-y-6">
                                <div>
                                    <h3 className="text-2xl font-semibold mb-4">Website Analysis</h3>
                                    <p className="text-gray-600 mb-6">
                                        Enter the organization's website URL. Our bot will automatically extract:
                                        mission statement, programs, staff info, recent news, and more.
                                    </p>
                                </div>

                                <div className="bg-blue-50 border border-blue-200 rounded-lg p-4">
                                    <h4 className="font-semibold text-blue-800 mb-2">What We'll Extract:</h4>
                                    <ul className="text-blue-700 text-sm space-y-1">
                                        <li>â€¢ Organization mission and history</li>
                                        <li>â€¢ Program descriptions and target populations</li>
                                        <li>â€¢ Staff and leadership information</li>
                                        <li>â€¢ Recent news and achievements</li>
                                        <li>â€¢ Contact information and location</li>
                                        <li>â€¢ Social media presence and engagement</li>
                                    </ul>
                                </div>

                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-2">
                                        Organization Website URL
                                    </label>
                                    <input 
                                        type="url" 
                                        value={websiteUrl}
                                        onChange={(e) => setWebsiteUrl(e.target.value)}
                                        placeholder="https://artworksnow.org"
                                        className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    />
                                </div>

                                {isExtracting ? (
                                    <div className="text-center py-8">
                                        <div className="loading-spinner mx-auto mb-4"></div>
                                        <p className="text-gray-600">Analyzing website and extracting data...</p>
                                        <p className="text-sm text-gray-500 mt-2">This may take 30-60 seconds</p>
                                    </div>
                                ) : (
                                    <button 
                                        onClick={() => extractWebsiteData(websiteUrl)}
                                        disabled={!websiteUrl}
                                        className="w-full bg-blue-600 text-white py-3 px-6 rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed font-medium"
                                    >
                                        Start Automatic Extraction
                                    </button>
                                )}

                                {extractionResults && (
                                    <div className="mt-6 bg-green-50 border border-green-200 rounded-lg p-4">
                                        <h4 className="font-semibold text-green-800 mb-2">âœ… Extraction Complete!</h4>
                                        <p className="text-green-700 text-sm">
                                            Successfully extracted data for {extractionResults.organizationName}. 
                                            Click "Next Step" to review and enhance the information.
                                        </p>
                                    </div>
                                )}
                            </div>
                        );

                    case 2:
                        return (
                            <div className="space-y-6">
                                <h3 className="text-2xl font-semibold mb-4">Review Extracted Data</h3>
                                
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">
                                            Organization Name
                                        </label>
                                        <input 
                                            type="text" 
                                            value={organizationData.basicInfo.organizationName || ''}
                                            onChange={(e) => updateOrganizationData('basicInfo', { organizationName: e.target.value })}
                                            className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">
                                            Founded Year
                                        </label>
                                        <input 
                                            type="number" 
                                            value={organizationData.basicInfo.founded || ''}
                                            onChange={(e) => updateOrganizationData('basicInfo', { founded: parseInt(e.target.value) })}
                                            className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">
                                            Location
                                        </label>
                                        <input 
                                            type="text" 
                                            value={organizationData.basicInfo.location || ''}
                                            onChange={(e) => updateOrganizationData('basicInfo', { location: e.target.value })}
                                            className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">
                                            Tax Status
                                        </label>
                                        <select 
                                            value={organizationData.basicInfo.taxStatus || ''}
                                            onChange={(e) => updateOrganizationData('basicInfo', { taxStatus: e.target.value })}
                                            className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        >
                                            <option value="">Select status...</option>
                                            <option value="501(c)(3)">501(c)(3) - Charitable</option>
                                            <option value="501(c)(4)">501(c)(4) - Social Welfare</option>
                                            <option value="Government">Government Entity</option>
                                            <option value="Other">Other</option>
                                        </select>
                                    </div>
                                </div>

                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-2">
                                        Mission Statement
                                    </label>
                                    <textarea 
                                        value={organizationData.basicInfo.mission || ''}
                                        onChange={(e) => updateOrganizationData('basicInfo', { mission: e.target.value })}
                                        rows={4}
                                        className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        placeholder="Enter your organization's mission statement..."
                                    />
                                </div>
                            </div>
                        );

                    case 3:
                        return (
                            <div className="space-y-6">
                                <div className="flex justify-between items-center">
                                    <h3 className="text-2xl font-semibold">Programs & Impact</h3>
                                    <button 
                                        onClick={addProgram}
                                        className="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700"
                                    >
                                        Add Program
                                    </button>
                                </div>

                                {organizationData.programs.map((program, index) => (
                                    <div key={program.id} className="bg-gray-50 rounded-lg p-6 space-y-4">
                                        <h4 className="font-semibold text-lg">Program {index + 1}</h4>
                                        
                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    Program Name
                                                </label>
                                                <input 
                                                    type="text" 
                                                    value={program.name}
                                                    onChange={(e) => updateProgram(program.id, 'name', e.target.value)}
                                                    placeholder="Youth Arts Academy"
                                                    className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                />
                                            </div>

                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    Target Population
                                                </label>
                                                <input 
                                                    type="text" 
                                                    value={program.targetPopulation}
                                                    onChange={(e) => updateProgram(program.id, 'targetPopulation', e.target.value)}
                                                    placeholder="Ages 13-18, underserved communities"
                                                    className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                />
                                            </div>

                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    Annual Capacity
                                                </label>
                                                <input 
                                                    type="text" 
                                                    value={program.capacity}
                                                    onChange={(e) => updateProgram(program.id, 'capacity', e.target.value)}
                                                    placeholder="150 students annually"
                                                    className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                />
                                            </div>

                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    Key Outcomes
                                                </label>
                                                <input 
                                                    type="text" 
                                                    value={program.outcomes}
                                                    onChange={(e) => updateProgram(program.id, 'outcomes', e.target.value)}
                                                    placeholder="85% skill improvement, 90% program completion"
                                                    className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                />
                                            </div>
                                        </div>

                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">
                                                Program Description
                                            </label>
                                            <textarea 
                                                value={program.description}
                                                onChange={(e) => updateProgram(program.id, 'description', e.target.value)}
                                                rows={3}
                                                placeholder="Detailed description of program activities, methodology, and impact..."
                                                className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                            />
                                        </div>
                                    </div>
                                ))}

                                {organizationData.programs.length === 0 && (
                                    <div className="text-center py-8 bg-gray-50 rounded-lg">
                                        <p className="text-gray-600 mb-4">No programs added yet.</p>
                                        <button 
                                            onClick={addProgram}
                                            className="bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700"
                                        >
                                            Add Your First Program
                                        </button>
                                    </div>
                                )}
                            </div>
                        );

                    case 4:
                        return (
                            <div className="space-y-6">
                                <h3 className="text-2xl font-semibold mb-4">Financial Information</h3>
                                
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">
                                            Annual Operating Budget
                                        </label>
                                        <input 
                                            type="number" 
                                            value={organizationData.financials.annualBudget || ''}
                                            onChange={(e) => updateOrganizationData('financials', { annualBudget: e.target.value })}
                                            placeholder="500000"
                                            className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">
                                            Full-time Staff Count
                                        </label>
                                        <input 
                                            type="number" 
                                            value={organizationData.financials.staffCount || ''}
                                            onChange={(e) => updateOrganizationData('financials', { staffCount: e.target.value })}
                                            placeholder="8"
                                            className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        />
                                    </div>
                                </div>
                            </div>
                        );

                    case 5:
                        return (
                            <div className="space-y-6">
                                <div className="flex justify-between items-center">
                                    <h3 className="text-2xl font-semibold">Target Funders</h3>
                                    <button 
                                        onClick={addFunder}
                                        className="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700"
                                    >
                                        Add Funder
                                    </button>
                                </div>

                                {organizationData.targetFunders.map((funder, index) => (
                                    <div key={funder.id} className="bg-gray-50 rounded-lg p-6 space-y-4">
                                        <h4 className="font-semibold text-lg">Funder {index + 1}</h4>
                                        
                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    Funder Name
                                                </label>
                                                <input 
                                                    type="text" 
                                                    value={funder.name}
                                                    onChange={(e) => updateFunder(funder.id, 'name', e.target.value)}
                                                    placeholder="XYZ Foundation"
                                                    className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                />
                                            </div>

                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    Funder Type
                                                </label>
                                                <select 
                                                    value={funder.type}
                                                    onChange={(e) => updateFunder(funder.id, 'type', e.target.value)}
                                                    className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                >
                                                    <option value="">Select type...</option>
                                                    <option value="Private Foundation">Private Foundation</option>
                                                    <option value="Corporate Foundation">Corporate Foundation</option>
                                                    <option value="Community Foundation">Community Foundation</option>
                                                    <option value="Government Grant">Government Grant</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                ))}

                                {organizationData.targetFunders.length === 0 && (
                                    <div className="text-center py-8 bg-gray-50 rounded-lg">
                                        <p className="text-gray-600 mb-4">No funders added yet.</p>
                                        <button 
                                            onClick={addFunder}
                                            className="bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700"
                                        >
                                            Add Your First Target Funder
                                        </button>
                                    </div>
                                )}
                            </div>
                        );

                    case 6:
                        return (
                            <div className="space-y-6">
                                <h3 className="text-2xl font-semibold mb-4">System Generation</h3>
                                
                                <div className="bg-green-50 border border-green-200 rounded-lg p-6">
                                    <h4 className="font-semibold text-green-800 mb-4">ðŸŽ‰ Ready to Generate Your Custom System!</h4>
                                    
                                    <button 
                                        onClick={generateSystem}
                                        className="w-full bg-green-600 text-white py-4 px-6 rounded-md hover:bg-green-700 font-medium text-lg"
                                    >
                                        ðŸš€ Generate My Custom Grant System
                                    </button>
                                </div>
                            </div>
                        );

                    default:
                        return null;
                }
            };

            return (
                <div className="min-h-screen bg-gray-50 py-8">
                    <div className="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="text-center mb-8">
                            <h1 className="text-4xl font-bold text-gray-900 mb-2">Organization Onboarding Bot</h1>
                            <p className="text-xl text-gray-600">Automated setup for your custom grant generator</p>
                            <p className="text-sm text-gray-500 mt-2">Complete in 10-15 minutes â€¢ Save weeks of manual setup</p>
                        </div>

                        <div className="mb-8">
                            <div className="flex items-center justify-between">
                                {steps.map((step, index) => (
                                    <div key={step.id} className="flex items-center">
                                        <div className={`
                                            w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold text-sm
                                            ${currentStep > step.id ? 'step-complete' : currentStep === step.id ? 'step-active' : 'step-pending'}
                                        `}>
                                            {currentStep > step.id ? 'âœ“' : step.id}
                                        </div>
                                        <div className="ml-3 hidden md:block">
                                            <div className="text-sm font-medium text-gray-900">{step.title}</div>
                                            <div className="text-xs text-gray-500">{step.desc}</div>
                                        </div>
                                        {index < steps.length - 1 && (
                                            <div className="hidden md:block w-24 h-1 bg-gray-200 mx-4">
                                                <div 
                                                    className={`h-full transition-all duration-300 ${
                                                        currentStep > step.id ? 'bg-green-500 w-full' : 'bg-gray-200 w-0'
                                                    }`}
                                                />
                                            </div>
                                        )}
                                    </div>
                                ))}
                            </div>
                        </div>

                        <div className="bg-white rounded-lg shadow-lg p-8 mb-8">
                            {renderStepContent()}
                        </div>

                        <div className="flex justify-between">
                            <button 
                                onClick={() => setCurrentStep(Math.max(1, currentStep - 1))}
                                disabled={currentStep === 1}
                                className="bg-gray-300 text-gray-700 py-2 px-6 rounded-md hover:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed"
                            >
                                Previous Step
                            </button>
                            
                            {currentStep < 6 && (
                                <button 
                                    onClick={() => setCurrentStep(Math.min(6, currentStep + 1))}
                                    disabled={currentStep === 1 && !extractionResults}
                                    className="bg-blue-600 text-white py-2 px-6 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"
                                >
                                    Next Step
                                </button>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<OrganizationOnboardingBot />, document.getElementById('root'));
    </script>
</body>
</html>
