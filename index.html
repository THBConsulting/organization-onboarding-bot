<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>THB Consulting - Organization Onboarding Bot</title>
<script src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<script src="https://cdn.tailwindcss.com"></script>
<style>
.step-complete { background: linear-gradient(135deg, #10b981, #059669); }
.step-active { background: linear-gradient(135deg, #3b82f6, #1d4ed8); }
.step-pending { background: linear-gradient(135deg, #6b7280, #4b5563); }
.loading-spinner {
border: 3px solid #f3f4f6;
border-top: 3px solid #3b82f6;
border-radius: 50%;
width: 24px;
height: 24px;
animation: spin 1s linear infinite;
}
@keyframes spin {
0% { transform: rotate(0deg); }
100% { transform: rotate(360deg); }
}
.upload-zone {
border: 2px dashed #d1d5db;
transition: all 0.3s ease;
}
.upload-zone:hover {
border-color: #3b82f6;
background-color: #f8fafc;
}
.upload-zone.dragover {
border-color: #3b82f6;
background-color: #dbeafe;
}
.file-preview {
background: linear-gradient(135deg, #f3f4f6, #e5e7eb);
}
.extracted-content {
background: linear-gradient(135deg, #fef3c7, #fde047);
}
.url-analysis {
background: linear-gradient(135deg, #e0f2fe, #b3e5fc);
}
.confidence-excellent { background: linear-gradient(135deg, #10b981, #059669); }
.confidence-strong { background: linear-gradient(135deg, #3b82f6, #1d4ed8); }
.confidence-moderate { background: linear-gradient(135deg, #f59e0b, #d97706); }
.confidence-weak { background: linear-gradient(135deg, #ef4444, #dc2626); }
.thb-logo {
max-height: 60px;
width: auto;
}
</style>
</head>
<body>
<div id="root"></div>
<script type="text/babel">
const { useState, useEffect, useRef } = React;

const OrganizationOnboardingBot = () => {
const [currentStep, setCurrentStep] = useState(1);
const [organizationData, setOrganizationData] = useState({
basicInfo: {},
extractedData: {},
programs: [],
financials: {},
partnerships: [],
targetFunders: []
});
const [grantOpportunities, setGrantOpportunities] = useState({
recurringGrants: [],
targetFunders: [],
currentRFPs: [],
urlOpportunities: []
});
const [websiteUrl, setWebsiteUrl] = useState('');
const [socialMediaPages, setSocialMediaPages] = useState([]);
const [isExtracting, setIsExtracting] = useState(false);
const [extractionResults, setExtractionResults] = useState(null);
const [draggedOver, setDraggedOver] = useState(null);
const [analyzingUrl, setAnalyzingUrl] = useState(false);
const fileInputRef = useRef(null);
const orgDocsInputRef = useRef(null);
const rfpFileInputRef = useRef(null);

const steps = [
{ id: 1, title: "Organization Profile", desc: "Website, documents, and financial info" },
{ id: 2, title: "Programs & Impact", desc: "Detail your programs and outcomes" },
{ id: 3, title: "Grant & Funding Strategy", desc: "Track opportunities and targets" },
{ id: 4, title: "System Generation", desc: "Create your custom grant generator" }
];

const addSocialMediaPage = () => {
setSocialMediaPages(prev => [...prev, { id: Date.now(), platform: '', url: '' }]);
};

const updateSocialMediaPage = (id, field, value) => {
setSocialMediaPages(prev => 
prev.map(page => page.id === id ? { ...page, [field]: value } : page)
);
};

const removeSocialMediaPage = (id) => {
setSocialMediaPages(prev => prev.filter(page => page.id !== id));
};
const extractWebsiteData = async (url) => {
setIsExtracting(true);
await new Promise(resolve => setTimeout(resolve, 3000));
const mockData = {
organizationName: "ArtWorks Now",
mission: "To provide accessible arts education and creative opportunities that inspire personal growth, build community connections, and foster cultural understanding through innovative programming.",
founded: 2010,
location: "Washington, DC",
taxStatus: "501(c)(3)",
website: url
};
setExtractionResults(mockData);
setOrganizationData(prev => ({
...prev,
basicInfo: mockData,
extractedData: mockData
}));
setIsExtracting(false);
};

const updateOrganizationData = (section, data) => {
setOrganizationData(prev => ({
...prev,
[section]: { ...prev[section], ...data }
}));
};

const handleOrgDocsUpload = (files) => {
const fileArray = Array.from(files);
const allowedTypes = [
'application/pdf',
'application/msword',
'application/vnd.openxmlformats-officedocument.wordprocessingml.document',
'text/plain',
'text/csv',
'application/vnd.ms-excel',
'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'
];
const validFiles = fileArray.filter(file =>
allowedTypes.includes(file.type) && file.size <= 10 * 1024 * 1024
);
if (validFiles.length === 0) {
alert('Please upload valid documents (PDF, Word, Excel, Text) under 10MB');
return;
}
setOrganizationData(prev => ({
...prev,
organizationalDocs: [...(prev.organizationalDocs || []), ...validFiles.map(file => ({
id: Date.now() + Math.random(),
name: file.name,
size: file.size,
type: file.type,
uploadDate: new Date().toLocaleDateString()
}))]
}));
};

const addProgram = () => {
const newProgram = {
id: Date.now(),
name: '',
description: '',
targetPopulation: '',
capacity: '',
outcomes: '',
uploadedFiles: [],
extractedContent: null,
dataSource: 'manual'
};
setOrganizationData(prev => ({
...prev,
programs: [...prev.programs, newProgram]
}));
};

const updateProgram = (id, field, value) => {
setOrganizationData(prev => ({
...prev,
programs: prev.programs.map(program =>
program.id === id ? { ...program, [field]: value } : program
)
}));
};

const handleFileUpload = async (programId, files) => {
const fileArray = Array.from(files);
const allowedTypes = [
'application/pdf',
'application/msword',
'application/vnd.openxmlformats-officedocument.wordprocessingml.document',
'text/plain',
'text/csv'
];
const validFiles = fileArray.filter(file =>
allowedTypes.includes(file.type) && file.size <= 10 * 1024 * 1024
);
if (validFiles.length === 0) {
alert('Please upload valid documents (PDF, Word, Text, CSV) under 10MB');
return;
}
setOrganizationData(prev => ({
...prev,
programs: prev.programs.map(program => {
if (program.id === programId) {
return {
...program,
uploadedFiles: [...(program.uploadedFiles || []), ...validFiles],
extractedContent: null
};
}
return program;
})
}));
setTimeout(() => {
extractContentFromFiles(programId, validFiles);
}, 2000);
};

const extractContentFromFiles = (programId, files) => {
const mockExtractedContent = {
programName: "Youth Leadership Development Program",
description: "A comprehensive 12-month program designed to develop leadership skills in teenagers aged 14-18 through mentorship, workshops, and community service projects.",
targetPopulation: "High school students (ages 14-18) from underserved communities",
capacity: "50 students per annual cohort, with rolling admission throughout the year",
outcomes: "95% program completion rate, 85% of participants report increased confidence in leadership abilities"
};
setOrganizationData(prev => ({
...prev,
programs: prev.programs.map(program => {
if (program.id === programId) {
return {
...program,
extractedContent: mockExtractedContent,
dataSource: 'extracted'
};
}
return program;
})
}));
};

const applyExtractedContent = (programId) => {
const program = organizationData.programs.find(p => p.id === programId);
if (program && program.extractedContent) {
const content = program.extractedContent;
updateProgram(programId, 'name', content.programName);
updateProgram(programId, 'description', content.description);
updateProgram(programId, 'targetPopulation', content.targetPopulation);
updateProgram(programId, 'capacity', content.capacity);
updateProgram(programId, 'outcomes', content.outcomes);
updateProgram(programId, 'dataSource', 'applied');
}
};

const handleDragOver = (e, programId) => {
e.preventDefault();
setDraggedOver(programId);
};

const handleDragLeave = (e) => {
e.preventDefault();
setDraggedOver(null);
};

const handleDrop = (e, programId) => {
e.preventDefault();
setDraggedOver(null);
const files = e.dataTransfer.files;
handleFileUpload(programId, files);
};

const removeFile = (programId, fileIndex) => {
setOrganizationData(prev => ({
...prev,
programs: prev.programs.map(program => {
if (program.id === programId) {
const newFiles = [...(program.uploadedFiles || [])];
newFiles.splice(fileIndex, 1);
return { ...program, uploadedFiles: newFiles };
}
return program;
})
}));
};

const formatFileSize = (bytes) => {
if (bytes === 0) return '0 Bytes';
const k = 1024;
const sizes = ['Bytes', 'KB', 'MB', 'GB'];
const i = Math.floor(Math.log(bytes) / Math.log(k));
return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
};
const addFunder = () => {
const newFunder = {
id: Date.now(),
name: '',
type: '',
focusAreas: '',
typicalRange: '',
deadline: '',
priority: 'medium'
};
setOrganizationData(prev => ({
...prev,
targetFunders: [...prev.targetFunders, newFunder]
}));
};

const updateFunder = (id, field, value) => {
setOrganizationData(prev => ({
...prev,
targetFunders: prev.targetFunders.map(funder =>
funder.id === id ? { ...funder, [field]: value } : funder
)
}));
};

const addRecurringGrant = () => {
const newGrant = {
id: Date.now(),
funderName: '',
grantName: '',
deadline: '',
amount: '',
lastApplied: '',
status: 'active'
};
setGrantOpportunities(prev => ({
...prev,
recurringGrants: [...prev.recurringGrants, newGrant]
}));
};

const updateRecurringGrant = (id, field, value) => {
setGrantOpportunities(prev => ({
...prev,
recurringGrants: prev.recurringGrants.map(grant =>
grant.id === id ? { ...grant, [field]: value } : grant
)
}));
};

const addTargetOpportunity = () => {
const newTarget = {
id: Date.now(),
funderName: '',
focusAreas: '',
why: '',
priority: 'medium'
};
setGrantOpportunities(prev => ({
...prev,
targetFunders: [...prev.targetFunders, newTarget]
}));
};

const updateTargetOpportunity = (id, field, value) => {
setGrantOpportunities(prev => ({
...prev,
targetFunders: prev.targetFunders.map(funder =>
funder.id === id ? { ...funder, [field]: value } : funder
)
}));
};

const handleRFPUpload = (files) => {
const fileArray = Array.from(files);
const allowedTypes = [
'application/pdf',
'application/msword',
'application/vnd.openxmlformats-officedocument.wordprocessingml.document',
'text/plain'
];
const validFiles = fileArray.filter(file =>
allowedTypes.includes(file.type) && file.size <= 10 * 1024 * 1024
);
if (validFiles.length === 0) {
alert('Please upload valid RFP documents (PDF, Word, Text) under 10MB');
return;
}
const newRFPs = validFiles.map(file => ({
id: Date.now() + Math.random(),
fileName: file.name,
fileSize: file.size,
uploadDate: new Date().toLocaleDateString(),
status: 'analyzing',
type: 'file'
}));
setGrantOpportunities(prev => ({
...prev,
currentRFPs: [...prev.currentRFPs, ...newRFPs]
}));
};

const analyzeRFPUrl = async (url) => {
if (!url || !url.startsWith('http')) {
alert('Please enter a valid URL starting with http:// or https://');
return;
}
setAnalyzingUrl(true);
await new Promise(resolve => setTimeout(resolve, 3000));

const mockAnalysis = {
funderName: url.includes('abell') ? 'Abell Foundation' : 
           url.includes('kellogg') ? 'W.K. Kellogg Foundation' :
           url.includes('ford') ? 'Ford Foundation' : 'Unknown Foundation',
opportunityTitle: url.includes('abell') ? 'Small Grants Program' :
                 url.includes('kellogg') ? 'Youth Development Grant' :
                 'Community Impact Grant',
maxAmount: url.includes('abell') ? '$10,000' : '$50,000',
deadline: 'Rolling applications',
focusAreas: ['Youth Development', 'Community Building', 'Education'],
eligibility: '501(c)(3) organizations in target geographic area',
confidenceScore: url.includes('abell') ? 78 : 
                url.includes('kellogg') ? 88 :
                url.includes('ford') ? 82 : 75,
requirements: [
'Detailed program description',
'Budget and financial information', 
'Letters of support',
'Evaluation methodology'
]
};

const newUrlOpportunity = {
id: Date.now(),
url: url,
analysis: mockAnalysis,
addedDate: new Date().toLocaleDateString(),
status: 'analyzed',
type: 'url'
};

setGrantOpportunities(prev => ({
...prev,
urlOpportunities: [...prev.urlOpportunities, newUrlOpportunity]
}));

setAnalyzingUrl(false);
};

const getConfidenceClass = (score) => {
if (score >= 85) return 'confidence-excellent';
if (score >= 70) return 'confidence-strong'; 
if (score >= 55) return 'confidence-moderate';
return 'confidence-weak';
};

const getConfidenceLabel = (score) => {
if (score >= 85) return 'Excellent Fit';
if (score >= 70) return 'Strong Fit';
if (score >= 55) return 'Moderate Fit';
return 'Weak Fit';
};

const generateSystem = () => {
const totalOpportunities = grantOpportunities.recurringGrants.length + 
                          grantOpportunities.targetFunders.length +
                          grantOpportunities.currentRFPs.length +
                          grantOpportunities.urlOpportunities.length;

alert(`🎉 THB Consulting - System Generated Successfully!

Your custom grant generator will be deployed to:
${organizationData.basicInfo.organizationName?.toLowerCase().replace(/\s+/g, '-')}-grants.netlify.app

Features included:
✅ ${grantOpportunities.recurringGrants.length} recurring grant opportunities
✅ ${grantOpportunities.targetFunders.length} target funder profiles  
✅ ${grantOpportunities.currentRFPs.length} uploaded RFPs for analysis
✅ ${grantOpportunities.urlOpportunities.length} analyzed URL opportunities
✅ ${organizationData.programs.length} program templates
✅ ${organizationData.organizationalDocs?.length || 0} organizational documents processed
✅ Automated content generation with confidence scoring
✅ Quick opportunity assessment for all ${totalOpportunities} tracked opportunities

Powered by THB Consulting's Professional Grant Automation Services
Setup complete! You can now start generating grant applications with personalized opportunity scoring.`);
};
const renderStepContent = () => {
switch(currentStep) {
case 1:
return (
<div className="space-y-6">
<div className="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
<h4 className="font-semibold text-blue-800 mb-2">🔒 How We Handle Your Data</h4>
<p className="text-blue-700 text-sm">
All the information you enter and files you upload stay right here in your browser. 
Nothing gets saved to our servers or sent anywhere else. When you're done and close this page, 
everything is automatically deleted.
</p>
</div>

<h3 className="text-2xl font-semibold mb-4">Organization Profile</h3>
<p className="text-gray-600 mb-6">
Let's gather your organization's basic information, documents, and financial details. 
This creates the foundation for your personalized grant generator.
</p>

<div className="space-y-8">
<div>
<h4 className="text-lg font-semibold mb-4">🌐 Website & Online Presence</h4>
<div className="space-y-4">
<div>
<label className="block text-sm font-medium text-gray-700 mb-2">
Organization Website URL
</label>
<input
type="url"
value={websiteUrl}
onChange={(e) => setWebsiteUrl(e.target.value)}
placeholder="https://yourorganization.org"
className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
/>
</div>
{websiteUrl && (
<div className="mt-4">
{isExtracting ? (
<div className="text-center py-6 bg-gray-50 rounded-lg">
<div className="loading-spinner mx-auto mb-4"></div>
<p className="text-gray-600">Analyzing website and extracting data...</p>
<p className="text-sm text-gray-500 mt-2">This may take 30-60 seconds</p>
</div>
) : (
<button
onClick={() => extractWebsiteData(websiteUrl)}
className="bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 font-medium"
>
Extract Website Information
</button>
)}
</div>
)}
{extractionResults && (
<div className="mt-4 bg-green-50 border border-green-200 rounded-lg p-4">
<h5 className="font-semibold text-green-800 mb-2">✅ Information Extracted!</h5>
<p className="text-green-700 text-sm">
Successfully extracted basic information for {extractionResults.organizationName}.
Review and edit the details below.
</p>
</div>
)}

<div>
<div className="flex justify-between items-center mb-3">
<label className="block text-sm font-medium text-gray-700">
Social Media Pages
</label>
<button
onClick={addSocialMediaPage}
className="bg-green-600 text-white text-sm py-1 px-3 rounded hover:bg-green-700"
>
Add Social Media
</button>
</div>
{socialMediaPages.map((page, index) => (
<div key={page.id} className="flex space-x-2 mb-2">
<select
value={page.platform}
onChange={(e) => updateSocialMediaPage(page.id, 'platform', e.target.value)}
className="w-32 p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
>
<option value="">Platform</option>
<option value="Facebook">Facebook</option>
<option value="Twitter">Twitter</option>
<option value="Instagram">Instagram</option>
<option value="LinkedIn">LinkedIn</option>
<option value="YouTube">YouTube</option>
</select>
<input
type="url"
value={page.url}
onChange={(e) => updateSocialMediaPage(page.id, 'url', e.target.value)}
placeholder="https://facebook.com/yourorg"
className="flex-1 p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
/>
<button
onClick={() => removeSocialMediaPage(page.id)}
className="text-red-600 hover:text-red-800 px-2"
>
Remove
</button>
</div>
))}
</div>
</div>
</div>

<div>
<h4 className="text-lg font-semibold mb-4">📄 Organizational Documents</h4>
<p className="text-gray-600 text-sm mb-4">
Upload documents that showcase your programs, staff, board, and budget. 
These help us understand your organization's capacity and create more compelling grant applications.
</p>
<div
className="upload-zone rounded-lg p-6 text-center cursor-pointer"
onClick={() => {
orgDocsInputRef.current.click();
orgDocsInputRef.current.onchange = (e) => handleOrgDocsUpload(e.target.files);
}}
>
<div className="space-y-2">
<div className="text-gray-400 text-4xl">📁</div>
<div className="text-gray-600">
<p className="font-medium">Drop organizational documents here or click to upload</p>
<p className="text-sm">Annual reports, program descriptions, staff bios, budgets, board lists</p>
<p className="text-xs text-gray-500">PDF, Word, Excel documents up to 10MB</p>
</div>
</div>
</div>
<input
ref={orgDocsInputRef}
type="file"
multiple
accept=".pdf,.doc,.docx,.txt,.xls,.xlsx,.csv"
className="hidden"
/>
{organizationData.organizationalDocs && organizationData.organizationalDocs.length > 0 && (
<div className="mt-4 space-y-2">
<h6 className="font-medium text-gray-700">Uploaded Documents:</h6>
{organizationData.organizationalDocs.map((doc, index) => (
<div key={doc.id} className="file-preview rounded-lg p-3 flex items-center justify-between">
<div className="flex items-center space-x-3">
<div className="text-blue-600 text-lg">📄</div>
<div>
<div className="font-medium text-gray-900">{doc.name}</div>
<div className="text-sm text-gray-500">Uploaded {doc.uploadDate} • {formatFileSize(doc.size)}</div>
</div>
</div>
</div>
))}
</div>
)}
</div>

<div>
<h4 className="text-lg font-semibold mb-4">📋 Organization Details</h4>
<div className="grid grid-cols-1 md:grid-cols-2 gap-6">
<div>
<label className="block text-sm font-medium text-gray-700 mb-2">
Organization Name
</label>
<input
type="text"
value={organizationData.basicInfo.organizationName || ''}
onChange={(e) => updateOrganizationData('basicInfo', { organizationName: e.target.value })}
className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
/>
</div>
<div>
<label className="block text-sm font-medium text-gray-700 mb-2">
Founded Year
</label>
<input
type="number"
value={organizationData.basicInfo.founded || ''}
onChange={(e) => updateOrganizationData('basicInfo', { founded: parseInt(e.target.value) })}
className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
/>
</div>
<div>
<label className="block text-sm font-medium text-gray-700 mb-2">
Location
</label>
<input
type="text"
value={organizationData.basicInfo.location || ''}
onChange={(e) => updateOrganizationData('basicInfo', { location: e.target.value })}
className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
/>
</div>
<div>
<label className="block text-sm font-medium text-gray-700 mb-2">
Tax Status
</label>
<select
value={organizationData.basicInfo.taxStatus || ''}
onChange={(e) => updateOrganizationData('basicInfo', { taxStatus: e.target.value })}
className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
>
<option value="">Select status...</option>
<option value="501(c)(3)">501(c)(3) - Charitable</option>
<option value="501(c)(4)">501(c)(4) - Social Welfare</option>
<option value="Government">Government Entity</option>
<option value="Other">Other</option>
</select>
</div>
</div>
<div className="mt-4">
<label className="block text-sm font-medium text-gray-700 mb-2">
Mission Statement
</label>
<textarea
value={organizationData.basicInfo.mission || ''}
onChange={(e) => updateOrganizationData('basicInfo', { mission: e.target.value })}
rows={4}
className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
placeholder="Enter your organization's mission statement..."
/>
</div>
</div>

<div>
<h4 className="text-lg font-semibold mb-4">💰 Financial Information</h4>
<p className="text-gray-600 text-sm mb-4">
Basic financial information helps us create realistic budget projections and 
match you with appropriately-sized funding opportunities.
</p>
<div className="grid grid-cols-1 md:grid-cols-2 gap-6">
<div>
<label className="block text-sm font-medium text-gray-700 mb-2">
Annual Operating Budget
</label>
<input
type="number"
value={organizationData.financials.annualBudget || ''}
onChange={(e) => updateOrganizationData('financials', { annualBudget: e.target.value })}
placeholder="500000"
className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
/>
</div>
<div>
<label className="block text-sm font-medium text-gray-700 mb-2">
Full-time Staff Count
</label>
<input
type="number"
value={organizationData.financials.staffCount || ''}
onChange={(e) => updateOrganizationData('financials', { staffCount: e.target.value })}
placeholder="8"
className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
/>
</div>
</div>
</div>
</div>
</div>
);
case 2:
return (
<div className="space-y-6">
<h3 className="text-2xl font-semibold mb-4">Programs & Impact</h3>
<p className="text-gray-600 mb-6">
Document your programs in detail. This information becomes the foundation for compelling 
program descriptions in your grant applications, showcasing your impact and methodology.
</p>
<div className="flex justify-between items-center mb-6">
<h4 className="text-lg font-semibold">Your Programs</h4>
<button
onClick={addProgram}
className="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700"
>
Add Program
</button>
</div>
<div className="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
<h4 className="font-semibold text-blue-800 mb-2">📋 Two Ways to Add Programs:</h4>
<div className="text-blue-700 text-sm space-y-1">
<div><strong>📤 Upload Documents:</strong> Drop program materials and let AI extract the details automatically</div>
<div><strong>✍️ Manual Entry:</strong> Fill out the forms manually with your program information</div>
</div>
</div>
{organizationData.programs.map((program, index) => (
<div key={program.id} className="bg-white rounded-lg border border-gray-200 p-6 space-y-6">
<div className="flex justify-between items-center">
<h4 className="font-semibold text-lg">Program {index + 1}</h4>
{program.dataSource === 'extracted' && (
<span className="bg-yellow-100 text-yellow-800 text-xs font-medium px-2.5 py-0.5 rounded">
Content Extracted
</span>
)}
</div>
<div className="space-y-4">
<h5 className="font-medium text-gray-900">📤 Upload Program Documents</h5>
<div
className={`upload-zone rounded-lg p-6 text-center cursor-pointer ${
draggedOver === program.id ? 'dragover' : ''
}`}
onDragOver={(e) => handleDragOver(e, program.id)}
onDragLeave={handleDragLeave}
onDrop={(e) => handleDrop(e, program.id)}
onClick={() => {
fileInputRef.current.click();
fileInputRef.current.onchange = (e) => handleFileUpload(program.id, e.target.files);
}}
>
<div className="space-y-2">
<div className="text-gray-400 text-4xl">📄</div>
<div className="text-gray-600">
<p className="font-medium">Drop files here or click to upload</p>
<p className="text-sm">PDF, Word, Text documents up to 10MB</p>
</div>
</div>
</div>
<input
ref={fileInputRef}
type="file"
multiple
accept=".pdf,.doc,.docx,.txt,.csv"
className="hidden"
/>
{program.uploadedFiles && program.uploadedFiles.length > 0 && (
<div className="space-y-2">
<h6 className="font-medium text-gray-700">Uploaded Files:</h6>
{program.uploadedFiles.map((file, fileIndex) => (
<div key={fileIndex} className="file-preview rounded-lg p-3 flex items-center justify-between">
<div className="flex items-center space-x-3">
<div className="text-blue-600 text-lg">📄</div>
<div>
<div className="font-medium text-gray-900">{file.name}</div>
<div className="text-sm text-gray-500">{formatFileSize(file.size)}</div>
</div>
</div>
<button
onClick={() => removeFile(program.id, fileIndex)}
className="text-red-600 hover:text-red-800 text-sm"
>
Remove
</button>
</div>
))}
</div>
)}
{program.extractedContent && (
<div className="extracted-content rounded-lg p-4 space-y-3">
<div className="flex justify-between items-center">
<h6 className="font-medium text-yellow-800">🤖 AI Extracted Content</h6>
<button
onClick={() => applyExtractedContent(program.id)}
className="bg-yellow-600 text-white px-3 py-1 rounded text-sm hover:bg-yellow-700"
>
Apply to Form
</button>
</div>
<div className="text-sm text-yellow-700 space-y-2">
<div><strong>Program:</strong> {program.extractedContent.programName}</div>
<div><strong>Target Population:</strong> {program.extractedContent.targetPopulation}</div>
<div><strong>Capacity:</strong> {program.extractedContent.capacity}</div>
<div><strong>Key Outcomes:</strong> {program.extractedContent.outcomes}</div>
</div>
</div>
)}
</div>
<div className="space-y-4">
<h5 className="font-medium text-gray-900">✍️ Program Details</h5>
<div className="grid grid-cols-1 md:grid-cols-2 gap-4">
<div>
<label className="block text-sm font-medium text-gray-700 mb-2">
Program Name
</label>
<input
type="text"
value={program.name}
onChange={(e) => updateProgram(program.id, 'name', e.target.value)}
placeholder="Youth Arts Academy"
className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
/>
</div>
<div>
<label className="block text-sm font-medium text-gray-700 mb-2">
Target Population
</label>
<input
type="text"
value={program.targetPopulation}
onChange={(e) => updateProgram(program.id, 'targetPopulation', e.target.value)}
placeholder="Ages 13-18, underserved communities"
className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
/>
</div>
<div>
<label className="block text-sm font-medium text-gray-700 mb-2">
Annual Capacity
</label>
<input
type="text"
value={program.capacity}
onChange={(e) => updateProgram(program.id, 'capacity', e.target.value)}
placeholder="150 students annually"
className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
/>
</div>
<div>
<label className="block text-sm font-medium text-gray-700 mb-2">
Key Outcomes
</label>
<input
type="text"
value={program.outcomes}
onChange={(e) => updateProgram(program.id, 'outcomes', e.target.value)}
placeholder="85% skill improvement, 90% program completion"
className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
/>
</div>
</div>
<div>
<label className="block text-sm font-medium text-gray-700 mb-2">
Program Description
</label>
<textarea
value={program.description}
onChange={(e) => updateProgram(program.id, 'description', e.target.value)}
rows={3}
placeholder="Detailed description of program activities, methodology, and impact..."
className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
/>
</div>
</div>
</div>
))}
{organizationData.programs.length === 0 && (
<div className="text-center py-8 bg-gray-50 rounded-lg">
<p className="text-gray-600 mb-4">No programs added yet.</p>
<button
onClick={addProgram}
className="bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700"
>
Add Your First Program
</button>
</div>
)}
</div>
);

case 3:
return (
<div className="space-y-6">
<h3 className="text-2xl font-semibold mb-4">Grant & Funding Strategy</h3>
<p className="text-gray-600 mb-6">
Track all your funding opportunities in one place. This creates your personalized grant dashboard 
with quick-apply options and confidence scoring for every opportunity you pursue.
</p>
<div className="bg-green-50 border border-green-200 rounded-lg p-4 mb-6">
<h4 className="font-semibold text-green-800 mb-2">🎯 Four Ways to Track Opportunities:</h4>
<div className="text-green-700 text-sm space-y-1">
<div><strong>🔄 Recurring Grants:</strong> Annual applications you submit regularly - builds your quick-apply menu</div>
<div><strong>🎯 Target Funders:</strong> Foundations you want to pursue - helps us match you with similar opportunities</div>
<div><strong>🔗 Grant & Funding Opportunities Links:</strong> Web-based RFPs with instant analysis and scoring</div>
<div><strong>📄 Document Upload:</strong> RFP files you want to analyze and score</div>
</div>
</div>

<div className="space-y-8">
<div>
<div className="flex justify-between items-center mb-4">
<h4 className="text-xl font-semibold">🔄 Recurring Grants</h4>
<button
onClick={addRecurringGrant}
className="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700"
>
Add Recurring Grant
</button>
</div>
<div className="bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4">
<p className="text-blue-700 text-sm">
<strong>Capture grants you apply for annually.</strong> These become your quick-apply options in the grant generator, 
saving time on repeat applications. Examples: City Arts Council annual grant, United Way community fund.
</p>
</div>
{grantOpportunities.recurringGrants.map((grant, index) => (
<div key={grant.id} className="bg-white rounded-lg border border-gray-200 p-4 space-y-4">
<h5 className="font-semibold">Recurring Grant {index + 1}</h5>
<div className="grid grid-cols-1 md:grid-cols-3 gap-4">
<div>
<label className="block text-sm font-medium text-gray-700 mb-2">
Funder Name
</label>
<input
type="text"
value={grant.funderName}
onChange={(e) => updateRecurringGrant(grant.id, 'funderName', e.target.value)}
placeholder="City Arts Council"
className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
/>
</div>
<div>
<label className="block text-sm font-medium text-gray-700 mb-2">
Grant Name
</label>
<input
type="text"
value={grant.grantName}
onChange={(e) => updateRecurringGrant(grant.id, 'grantName', e.target.value)}
placeholder="Community Arts Program Grant"
className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
/>
</div>
<div>
<label className="block text-sm font-medium text-gray-700 mb-2">
Typical Amount
</label>
<input
type="text"
value={grant.amount}
onChange={(e) => updateRecurringGrant(grant.id, 'amount', e.target.value)}
placeholder="$25,000"
className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
/>
</div>
</div>
</div>
))}
{grantOpportunities.recurringGrants.length === 0 && (
<div className="text-center py-6 bg-gray-50 rounded-lg">
<p className="text-gray-600 mb-3">No recurring grants added yet.</p>
<button
onClick={addRecurringGrant}
className="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700"
>
Add Your First Recurring Grant
</button>
</div>
)}
</div>

<div>
<div className="flex justify-between items-center mb-4">
<h4 className="text-xl font-semibold">🎯 Target Funders</h4>
<button
onClick={addTargetOpportunity}
className="bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700"
>
Add Target Funder
</button>
</div>
<div className="bg-green-50 border border-green-200 rounded-lg p-3 mb-4">
<p className="text-green-700 text-sm">
<strong>Foundations you want to research and pursue.</strong> We use this to identify similar opportunities 
and alert you when matching grants become available. Examples: Ford Foundation, Kellogg Foundation.
</p>
</div>
{grantOpportunities.targetFunders.map((target, index) => (
<div key={target.id} className="bg-white rounded-lg border border-gray-200 p-4 space-y-4">
<h5 className="font-semibold">Target Funder {index + 1}</h5>
<div className="grid grid-cols-1 md:grid-cols-2 gap-4">
<div>
<label className="block text-sm font-medium text-gray-700 mb-2">
Funder Name
</label>
<input
type="text"
value={target.funderName}
onChange={(e) => updateTargetOpportunity(target.id, 'funderName', e.target.value)}
placeholder="Ford Foundation"
className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
/>
</div>
<div>
<label className="block text-sm font-medium text-gray-700 mb-2">
Priority Level
</label>
<select
value={target.priority}
onChange={(e) => updateTargetOpportunity(target.id, 'priority', e.target.value)}
className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"
>
<option value="high">High Priority</option>
<option value="medium">Medium Priority</option>
<option value="low">Low Priority</option>
</select>
</div>
</div>
</div>
))}
{grantOpportunities.targetFunders.length === 0 && (
<div className="text-center py-6 bg-gray-50 rounded-lg">
<p className="text-gray-600 mb-3">No target funders added yet.</p>
<button
onClick={addTargetOpportunity}
className="bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700"
>
Add Your First Target Funder
</button>
</div>
)}
</div>
<div>
<h4 className="text-xl font-semibold mb-4">🔗 Grant and Funding Opportunities Links</h4>
<div className="bg-purple-50 border border-purple-200 rounded-lg p-4 mb-4">
<p className="text-purple-700 text-sm">
<strong>Analyze web-based grant opportunities instantly!</strong> Paste URLs of grants you find online 
and get immediate confidence scoring. Add multiple opportunities - analyze as many as you discover!
</p>
</div>
<div className="bg-white rounded-lg border border-gray-200 p-4 space-y-4">
<div className="flex space-x-2">
<input
type="url"
placeholder="https://abell.org/grants/small-grants-process/"
className="flex-1 p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent"
onKeyPress={(e) => {
if (e.key === 'Enter') {
analyzeRFPUrl(e.target.value);
e.target.value = '';
}
}}
/>
<button
onClick={(e) => {
const input = e.target.parentElement.querySelector('input');
analyzeRFPUrl(input.value);
input.value = '';
}}
disabled={analyzingUrl}
className="bg-purple-600 text-white px-6 py-3 rounded-md hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed"
>
{analyzingUrl ? 'Analyzing...' : 'Analyze URL'}
</button>
</div>
{analyzingUrl && (
<div className="text-center py-4">
<div className="loading-spinner mx-auto mb-2"></div>
<p className="text-gray-600 text-sm">Analyzing opportunity and calculating fit score...</p>
</div>
)}
</div>

{grantOpportunities.urlOpportunities.length > 0 && (
<div className="space-y-4">
<h6 className="font-medium text-gray-700">Analyzed Opportunities ({grantOpportunities.urlOpportunities.length}):</h6>
{grantOpportunities.urlOpportunities.map((opportunity, index) => (
<div key={opportunity.id} className="url-analysis rounded-lg p-4 border border-blue-200">
<div className="flex justify-between items-start mb-3">
<div className="flex-1">
<h6 className="font-semibold text-gray-900">{opportunity.analysis.opportunityTitle}</h6>
<p className="text-sm text-gray-600">{opportunity.analysis.funderName}</p>
<a href={opportunity.url} target="_blank" rel="noopener noreferrer" 
   className="text-xs text-blue-600 hover:text-blue-800 break-all">
{opportunity.url}
</a>
</div>
<div className={`ml-4 px-3 py-2 rounded-lg text-white text-center min-w-[80px] ${getConfidenceClass(opportunity.analysis.confidenceScore)}`}>
<div className="text-lg font-bold">{opportunity.analysis.confidenceScore}</div>
<div className="text-xs">{getConfidenceLabel(opportunity.analysis.confidenceScore)}</div>
</div>
</div>
<div className="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
<div>
<strong>Max Amount:</strong> {opportunity.analysis.maxAmount}
</div>
<div>
<strong>Deadline:</strong> {opportunity.analysis.deadline}
</div>
<div>
<strong>Focus Areas:</strong> {opportunity.analysis.focusAreas.join(', ')}
</div>
<div>
<strong>Added:</strong> {opportunity.addedDate}
</div>
</div>
<div className="mt-3">
<strong className="text-sm">Key Requirements:</strong>
<ul className="text-sm text-gray-600 mt-1 ml-4">
{opportunity.analysis.requirements.map((req, i) => (
<li key={i}>• {req}</li>
))}
</ul>
</div>
</div>
))}
</div>
)}
</div>

<div>
<h4 className="text-xl font-semibold mb-4">📄 Upload RFP Documents</h4>
<div className="bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4">
<p className="text-yellow-700 text-sm">
<strong>Upload RFP files for analysis.</strong> We'll process the documents and provide confidence scoring 
to help you decide which opportunities to pursue.
</p>
</div>
<div
className="upload-zone rounded-lg p-6 text-center cursor-pointer"
onClick={() => {
rfpFileInputRef.current.click();
rfpFileInputRef.current.onchange = (e) => handleRFPUpload(e.target.files);
}}
>
<div className="space-y-2">
<div className="text-gray-400 text-4xl">📋</div>
<div className="text-gray-600">
<p className="font-medium">Drop RFP files here or click to upload</p>
<p className="text-sm">PDF, Word documents - Grant applications, RFPs, funding announcements</p>
</div>
</div>
</div>
<input
ref={rfpFileInputRef}
type="file"
multiple
accept=".pdf,.doc,.docx,.txt"
className="hidden"
/>
{grantOpportunities.currentRFPs.length > 0 && (
<div className="space-y-2">
<h6 className="font-medium text-gray-700">Uploaded Documents:</h6>
{grantOpportunities.currentRFPs.map((rfp, index) => (
<div key={rfp.id} className="file-preview rounded-lg p-3 flex items-center justify-between">
<div className="flex items-center space-x-3">
<div className="text-yellow-600 text-lg">📋</div>
<div>
<div className="font-medium text-gray-900">{rfp.fileName}</div>
<div className="text-sm text-gray-500">Uploaded {rfp.uploadDate} • {formatFileSize(rfp.fileSize)}</div>
</div>
</div>
<div className="flex items-center space-x-2">
<span className="text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded">
{rfp.status}
</span>
</div>
</div>
))}
</div>
)}
</div>
</div>
</div>
);

case 4:
return (
<div className="space-y-6">
<h3 className="text-2xl font-semibold mb-4">System Generation</h3>
<div className="bg-green-50 border border-green-200 rounded-lg p-6">
<h4 className="font-semibold text-green-800 mb-4">🚀 Ready to Generate Your Custom Grant System!</h4>
<div className="text-green-700 text-sm mb-4 space-y-1">
<div>✅ Organization profile: {organizationData.basicInfo.organizationName || 'Complete'}</div>
<div>✅ Programs documented: {organizationData.programs.length} programs</div>
<div>✅ Organizational documents: {organizationData.organizationalDocs?.length || 0} uploaded</div>
<div>✅ Recurring grants: {grantOpportunities.recurringGrants.length} opportunities</div>
<div>✅ Target funders: {grantOpportunities.targetFunders.length} prospects</div>
<div>✅ Web opportunities: {grantOpportunities.urlOpportunities.length} analyzed</div>
<div>✅ Document RFPs: {grantOpportunities.currentRFPs.length} uploaded</div>
<div>✅ Social media pages: {socialMediaPages.length} connected</div>
</div>
<button
onClick={generateSystem}
className="w-full bg-green-600 text-white py-4 px-6 rounded-md hover:bg-green-700 font-medium text-lg"
>
🎯 Generate My Custom Grant System
</button>
</div>
<div className="bg-blue-50 border border-blue-200 rounded-lg p-4 mt-6">
<h5 className="font-semibold text-blue-800 mb-2">What Happens Next?</h5>
<div className="text-blue-700 text-sm space-y-1">
<div>• Your custom grant generator will be deployed to a branded URL</div>
<div>• All your opportunities will have personalized quick-apply options</div>
<div>• Confidence scoring will be available for every grant you pursue</div>
<div>• You'll receive login credentials and training materials</div>
</div>
</div>
</div>
);

default:
return null;
}
};

return (
<div className="min-h-screen bg-gray-50 py-8">
<div className="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
<div className="text-center mb-8">
<div className="flex items-center justify-center mb-4">
<img 
src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAwIiBoZWlnaHQ9IjQwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGRlZnM+CjxsaW5lYXJHcmFkaWVudCBpZD0iYmx1ZUdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6IzJkMzc5MDtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojNGY0NmU1O3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+CjxyZWN0IHdpZHRoPSI1MDAiIGhlaWdodD0iNDAwIiBmaWxsPSJ1cmwoI2JsdWVHcmFkaWVudCkiLz4KPHRleHQgeD0iNTAiIHk9IjE4MCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjQwIiBmaWxsPSJ3aGl0ZSIgZm9udC13ZWlnaHQ9Im5vcm1hbCI+VGhlPC90ZXh0Pgo8dGV4dCB4PSI1MCIgeT0iMjQwIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iNjAiIGZpbGw9IndoaXRlIiBmb250LXdlaWdodD0iYm9sZCI+QnVzaW5lc3M8L3RleHQ+Cjx0ZXh0IHg9IjUwIiB5PSIzMDAiIGZvbnQtZmFtaWx5PSJjdXJzaXZlIiBmb250LXNpemU9IjQ4IiBmaWxsPSJ3aGl0ZSIgZm9udC1zdHlsZT0iaXRhbGljIj5Ib3BlPC90ZXh0Pgo8L3N2Zz4=" 
alt="THB Consulting Logo" 
className="thb-logo mr-3"
/>
<div>
<h1 className="text-4xl font-bold text-gray-900">THB Consulting</h1>
<p className="text-lg text-gray-600">Organization Onboarding Bot</p>
</div>
</div>
<p className="text-xl text-gray-600">Automated setup for your custom grant generator</p>
<p className="text-sm text-gray-500 mt-2">Complete in 15-20 minutes • Save weeks of manual setup</p>
</div>
<div className="mb-8">
<div className="flex items-center justify-center space-x-8">
{steps.map((step, index) => (
<div key={step.id} className="flex items-center">
<div className={`
w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold text-sm
${currentStep > step.id ? 'step-complete' : currentStep === step.id ? 'step-active' : 'step-pending'}
`}>
{currentStep > step.id ? '✓' : step.id}
</div>
<div className="ml-3">
<div className="text-sm font-medium text-gray-900">{step.title}</div>
<div className="text-xs text-gray-500">{step.desc}</div>
</div>
{index < steps.length - 1 && (
<div className="w-16 h-1 bg-gray-200 mx-6">
<div
className={`h-full transition-all duration-300 ${
currentStep > step.id ? 'bg-green-500 w-full' : 'bg-gray-200 w-0'
}`}
/>
</div>
)}
</div>
))}
</div>
</div>
<div className="bg-white rounded-lg shadow-lg p-8 mb-8">
{renderStepContent()}
</div>
<div className="flex justify-between">
<button
onClick={() => setCurrentStep(Math.max(1, currentStep - 1))}
disabled={currentStep === 1}
className="bg-gray-300 text-gray-700 py-2 px-6 rounded-md hover:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed"
>
Previous Step
</button>
{currentStep < 4 && (
<button
onClick={() => setCurrentStep(Math.min(4, currentStep + 1))}
disabled={currentStep === 1 && !extractionResults && !organizationData.basicInfo.organizationName}
className="bg-blue-600 text-white py-2 px-6 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"
>
Next Step
</button>
)}
</div>
<div className="text-center mt-8 pt-6 border-t border-gray-200">
<p className="text-sm text-gray-500">
Powered by <strong>THB Consulting</strong> | Professional Grant Automation Services
</p>
</div>
</div>
</div>
);
};

ReactDOM.render(<OrganizationOnboardingBot />, document.getElementById('root'));
</script>
</body>
</html>
